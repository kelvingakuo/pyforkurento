<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta http-equiv="cache-control" content="no-cache">
  <meta http-equiv="pragma" content="no-cache">
  <meta http-equiv="expires" content="0">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <!-- WebJars -->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
  <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

  <script src="/webjars/webrtc-adapter/release/adapter.js"></script>

  <!-- Kurento -->
  <link rel="stylesheet" href="rtsp.css">
  <script src="kurento-utils.min.js"></script> <!-- JAR from Maven -->
  <script src="rtsp.js"></script>

  <title>KMS RTSP</title>
</head>

<body>
  <div class="container">
    <div class="page-header">
      <h1><b>KMS RTSP to WebRTC using pyforkurento</b></h1>
      <p>
        This web application shows an RTSP stream played on a browser using a <i>WebRtcEndpoint</i>
      </p>
      <p>
        To run this demo follow these steps:
      </p>
      <ol>
        <li>Add an RTSP URL to the input box. You can also add an <i>https:// stream</i> or<i>A fully qualified path to a video file in the same location as KMS</i> a Test with: 
          <ul>
          <li>rtsp://wowzaec2demo.streamlock.net/vod/mp4:BigBuckBunny_115k.mov</li>
          <li>rtsp://freja.hiof.no:1935/rtplive/_definst_/hessdalen02.stream</li>
          <li>rtsp://freja.hiof.no:1935/rtplive/_definst_/hessdalen03.stream</li>
          <li>rtsp://151.141.139.240/quickview</li>
          <li>rtsp://170.93.143.139/rtplive/470011e600ef003a004ee33696235daa</li>
          </ul>
          ** You can confirm that the stream is working by playing it using VLC Media Player <br>
          ** If using your own RTSP camera, make sure the KMS server, the camera, and this page are on the same network <b>or</b> read <a href = "https://doc-kurento.readthedocs.io/en/latest/knowledge/nat.html">this</a> to see how to connect them over different networks.
        </li>  
        <li>Click on <i>Start</i> to begin the stream negotiation.</li>
        <li>Click on <i>Stop</i> to finish the test.</li>
        <li>Refresh the page to go again.</li>
      </ol>
    </div>
    <input id = "rtspURL" class="form-control form-control-lg" type="text" value="rtsp://wowzaec2demo.streamlock.net/vod/mp4:BigBuckBunny_115k.mov">
    <br>
    <div class="row">
      <div class="col-md-2">
        <a id="uiStartBtn" href="#" class="btn btn-success">
          <span class="glyphicon glyphicon-play"></span>Start</a>
        <br>
        <br>
        <a id="uiStopBtn" href="#" class="btn btn-danger">
          <span class="glyphicon glyphicon-stop"></span>Stop</a>
      </div>
      <div class="col-md-5">
        <h3><b>RTSP stream</b></h3>
        <video id="uiRemoteVideo" playsinline width="480px" height="360px"></video>
      </div>
    </div>
  </div>
</html>